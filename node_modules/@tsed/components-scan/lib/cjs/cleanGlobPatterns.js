"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cleanGlobPatterns = void 0;
const path_1 = require("path");
const isTsEnv_1 = require("./isTsEnv");
const normalizePath_1 = require("./normalizePath");
function mapExcludes(excludes) {
    return excludes.map((s) => `!${s.replace(/!/gi, "")}`);
}
function mapExtensions(file) {
    if (!(0, isTsEnv_1.isTsEnv)()) {
        file = file.replace(/\.ts$/i, ".js").replace(/{\.ts,\.js}$/i, ".js");
    }
    return file;
}
function cleanGlobPatterns(files, excludes) {
    return []
        .concat(files)
        .map((s) => (0, path_1.resolve)(s))
        .concat(mapExcludes(excludes))
        .map(mapExtensions)
        .map((s) => (0, normalizePath_1.normalizePath)(s));
}
exports.cleanGlobPatterns = cleanGlobPatterns;
//# sourceMappingURL=cleanGlobPatterns.js.map