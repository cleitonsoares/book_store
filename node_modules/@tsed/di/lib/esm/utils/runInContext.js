import { AsyncLocalStorage } from "async_hooks";
let store;
export function getAsyncStore() {
    store = store || new AsyncLocalStorage();
    return store;
}
export function getContext() {
    return store === null || store === void 0 ? void 0 : store.getStore();
}
export function runInContext(ctx, cb) {
    // istanbul ignore else
    return AsyncLocalStorage ? getAsyncStore().run(ctx, cb) : cb();
}
//# sourceMappingURL=runInContext.js.map