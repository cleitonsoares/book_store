"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getMiddlewaresForHook = void 0;
const core_1 = require("@tsed/core");
function getMiddlewaresForHook(hook, settings, defaultHook = "") {
    const { env, middlewares = [] } = settings;
    return middlewares
        .map((middleware) => {
        return (0, core_1.isFunction)(middleware)
            ? {
                env,
                hook: defaultHook,
                use: middleware
            }
            : {
                env,
                hook: defaultHook,
                ...middleware
            };
    })
        .filter((options) => {
        return options.use && options.env === env && options.hook === hook;
    });
}
exports.getMiddlewaresForHook = getMiddlewaresForHook;
//# sourceMappingURL=getMiddlewaresForHook.js.map