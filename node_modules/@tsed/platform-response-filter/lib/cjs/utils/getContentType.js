"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getContentType = exports.ANY_CONTENT_TYPE = void 0;
const core_1 = require("@tsed/core");
exports.ANY_CONTENT_TYPE = "*/*";
/**
 * @ignore
 */
function getContentType(data, ctx) {
    const { endpoint, response } = ctx;
    const { operation } = endpoint;
    const contentType = response.getContentType() || operation.getContentTypeOf(response.statusCode) || "";
    if (contentType && contentType !== exports.ANY_CONTENT_TYPE) {
        if (contentType === "application/json") {
            if ((0, core_1.isObject)(data)) {
                return contentType;
            }
        }
        else {
            return contentType;
        }
    }
    if (typeof data === "string" && endpoint.view) {
        return "text/html";
    }
}
exports.getContentType = getContentType;
//# sourceMappingURL=getContentType.js.map