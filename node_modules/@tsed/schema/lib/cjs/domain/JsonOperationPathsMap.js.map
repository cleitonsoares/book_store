{"version":3,"file":"JsonOperationPathsMap.js","sourceRoot":"","sources":["../../../src/domain/JsonOperationPathsMap.ts"],"names":[],"mappings":";;;AAAA,0DAA0D;AAG1D,MAAa,qBAAsB,SAAQ,GAA2B;IAAtE;;QAUY,WAAM,GAAG,CAAC,MAAc,EAAE,IAAS,EAAE,EAAE,CAAC,GAAG,MAAM,IAAI,IAAI,EAAE,CAAC;IAYxE,CAAC;IArBC,gBAAgB,CAAC,aAA6B;QAC5C,IAAI,aAAa,CAAC,MAAM,KAAK,8BAAgB,CAAC,MAAM,EAAE;YACpD,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE,aAAa,CAAC,IAAI,CAAC,CAAC;YAClE,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YAChC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,8BAAgB,CAAC,GAAG,EAAE,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;YAClF,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;SACxC;IACH,CAAC;IAIS,qBAAqB,CAAC,GAAW;QACzC,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;YACjB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAE,CAAC,OAAO,GAAG,KAAK,CAAC;SAChC;IACH,CAAC;IAES,aAAa,CAAC,GAAW,EAAE,aAA6B;QAChE,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;QAC7B,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;IAC/B,CAAC;CACF;AAtBD,sDAsBC","sourcesContent":["import {OperationMethods} from \"../constants/httpMethods\";\nimport {JsonMethodPath} from \"./JsonOperation\";\n\nexport class JsonOperationPathsMap extends Map<string, JsonMethodPath> {\n  setOperationPath(operationPath: JsonMethodPath) {\n    if (operationPath.method !== OperationMethods.CUSTOM) {\n      const key = this.getKey(operationPath.method, operationPath.path);\n      this.updateFinalRouteState(key);\n      this.updateFinalRouteState(this.getKey(OperationMethods.ALL, operationPath.path));\n      this.setFinalRoute(key, operationPath);\n    }\n  }\n\n  protected getKey = (method: string, path: any) => `${method}-${path}`;\n\n  protected updateFinalRouteState(key: string) {\n    if (this.has(key)) {\n      this.get(key)!.isFinal = false;\n    }\n  }\n\n  protected setFinalRoute(key: string, operationPath: JsonMethodPath) {\n    this.set(key, operationPath);\n    operationPath.isFinal = true;\n  }\n}\n"]}