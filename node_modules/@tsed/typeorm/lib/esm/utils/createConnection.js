import { getValue } from "@tsed/core";
import { getConnectionManager } from "typeorm";
export async function createConnection(connectionOptions) {
    const connectionManager = getConnectionManager();
    const name = getValue(connectionOptions, "name", "default");
    if (!connectionManager.has(name)) {
        connectionManager.create(connectionOptions);
    }
    const connection = connectionManager.get(name);
    if (!connection.isConnected) {
        await connection.connect();
    }
    return connection;
}
//# sourceMappingURL=createConnection.js.map